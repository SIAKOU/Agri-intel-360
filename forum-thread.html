
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discussion - Forum Agri-Intel 360</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Styles sp√©cifiques √† la page de discussion */
    .thread-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border-color);
    }
    
    .thread-meta {
      display: flex;
      align-items: center;
      gap: 1rem;
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
    
    .thread-author {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .thread-author img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .thread-stats {
      display: flex;
      gap: 1rem;
    }
    
    .thread-stat {
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .thread-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    
    .posts-list {
      margin-bottom: 2rem;
    }
    
    .post {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
      padding: 1.5rem;
      margin-bottom: 1rem;
      transition: all var(--transition-base);
    }
    
    .post:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
    }
    
    .post-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }
    
    .post-author {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .post-author img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .author-info {
      display: flex;
      flex-direction: column;
    }
    
    .author-name {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .author-role {
      font-size: 0.8rem;
      color: var(--text-secondary);
    }
    
    .post-meta {
      text-align: right;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }
    
    .post-time {
      display: block;
      margin-bottom: 0.25rem;
    }
    
    .post-content {
      line-height: 1.6;
      margin-bottom: 1rem;
    }
    
    .post-content p {
      margin-bottom: 1rem;
    }
    
    .post-content p:last-child {
      margin-bottom: 0;
    }
    
    .post-actions {
      display: flex;
      gap: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border-color);
    }
    
    .post-action {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 0.25rem 0.5rem;
      border-radius: var(--border-radius-sm);
      transition: all var(--transition-base);
      font-size: 0.9rem;
    }
    
    .post-action:hover {
      background: var(--border-color);
      color: var(--text-primary);
    }
    
    .post-action.liked {
      color: var(--danger-color);
    }
    
    .reply-form {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      border: 1px solid var(--border-color);
      padding: 1.5rem;
      margin-top: 2rem;
    }
    
    .reply-form h4 {
      margin-bottom: 1rem;
      color: var(--text-primary);
    }
    
    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1rem;
    }
    
    .editor-toolbar {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      padding: 0.5rem;
      background: var(--sidebar-bg);
      border-radius: var(--border-radius-sm);
    }
    
    .editor-btn {
      background: none;
      border: none;
      padding: 0.25rem 0.5rem;
      border-radius: var(--border-radius-sm);
      cursor: pointer;
      transition: background var(--transition-base);
    }
    
    .editor-btn:hover {
      background: var(--border-color);
    }
    
    .tag {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 0.5rem;
    }
    
    .tag-agriculture {
      background: rgba(44, 107, 47, 0.15);
      color: var(--primary-color);
    }
    
    .tag-weather {
      background: rgba(33, 150, 243, 0.15);
      color: var(--info-color);
    }
    
    .tag-irrigation {
      background: rgba(0, 188, 212, 0.15);
      color: #00bcd4;
    }
    
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
    
    .breadcrumb a {
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .breadcrumb a:hover {
      text-decoration: underline;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .thread-header {
        flex-direction: column;
        gap: 1rem;
      }
      
      .thread-meta {
        flex-wrap: wrap;
      }
      
      .post-header {
        flex-direction: column;
        gap: 1rem;
      }
      
      .post-meta {
        text-align: left;
      }
      
      .post-actions {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h1 class="logo">AI-360</h1>
      </div>
      <nav class="main-nav">
        <a href="index.html" class="nav-link">
          <i>üìä</i>
          <span>Tableau de Bord</span>
        </a>
        <a href="market.html" class="nav-link">
          <i>üìà</i>
          <span>March√©s</span>
        </a>
        <a href="weather.html" class="nav-link">
          <i>üå¶Ô∏è</i>
          <span>M√©t√©o</span>
        </a>
        <a href="crop-health.html" class="nav-link">
          <i>üå±</i>
          <span>Sant√© des Cultures</span>
        </a>
        <a href="policy.html" class="nav-link">
          <i>üìú</i>
          <span>Politiques</span>
        </a>
        <a href="forum.html" class="nav-link active">
          <i>üí¨</i>
          <span>Forum</span>
        </a>
        <a href="subscription.html" class="nav-link">
          <i>‚≠ê</i>
          <span>Abonnement</span>
        </a>
      </nav>
    </aside>

    <main class="main-content">
      <header class="top-bar">
        <h2 class="page-title">
          <i>üí¨</i>
          Discussion
        </h2>
        <div class="top-bar-actions">
          <button class="dark-mode-toggle" id="dark-mode-toggle">üåô</button>
          <div class="user-profile-container">
            <div class="user-profile">
              <img src="https://i.pravatar.cc/40?u=agriculteur" alt="Avatar utilisateur">
              <span>Jean Dupont</span>
            </div>
            <ul class="dropdown-menu">
              <li><a href="settings.html"><i>‚öôÔ∏è</i> Param√®tres</a></li>
              <li class="dropdown-divider"></li>
              <li><a href="login.html"><i>üö™</i> Se D√©connecter</a></li>
            </ul>
          </div>
        </div>
      </header>

      <div class="page-content">
        <div class="breadcrumb">
          <a href="forum.html">Forum</a>
          <span>‚Ä∫</span>
          <a href="forum.html">Agriculture</a>
          <span>‚Ä∫</span>
          <span>Discussion</span>
        </div>

        <div class="card">
          <div class="thread-header">
            <div>
              <h3 class="card-title">Comment optimiser l'irrigation des champs de ma√Øs ?</h3>
              <div class="thread-meta">
                <div class="thread-author">
                  <img src="https://i.pravatar.cc/40?u=utilisateur1" alt="Alice">
                  <span>Alice</span>
                </div>
                <span>‚Ä¢</span>
                <span>Post√© il y a 2 heures</span>
                <span>‚Ä¢</span>
                <span class="tag tag-agriculture">Agriculture</span>
                <span class="tag tag-irrigation">Irrigation</span>
              </div>
            </div>
            <div class="thread-stats">
              <div class="thread-stat">
                <i>üëÅÔ∏è</i>
                <span>145 vues</span>
              </div>
              <div class="thread-stat">
                <i>üí¨</i>
                <span>12 r√©ponses</span>
              </div>
            </div>
          </div>

          <div class="post-content">
            <p>Bonjour √† tous,</p>
            
            <p>Je cultive du ma√Øs sur 50 hectares dans la r√©gion Centre et je cherche √† optimiser mon syst√®me d'irrigation. Avec les s√©cheresses r√©currentes, je dois maximiser l'efficacit√© de l'eau tout en maintenant un bon rendement.</p>
            
            <p>J'utilise actuellement un syst√®me goutte-√†-goutte, mais je me demande si c'est la meilleure solution. Certains voisins utilisent l'aspersion et semblent avoir de bons r√©sultats.</p>
            
            <p>Quelles sont vos exp√©riences ? Avez-vous test√© diff√©rents syst√®mes ? Comment g√©rez-vous le calendrier d'irrigation en fonction de la m√©t√©o ?</p>
            
            <p>Merci pour vos conseils !</p>
          </div>

          <div class="thread-actions">
            <button class="btn btn-outline">
              <i>üëç</i>
              <span>Utile (24)</span>
            </button>
            <button class="btn btn-outline">
              <i>üîñ</i>
              <span>Suivre</span>
            </button>
            <button class="btn btn-outline">
              <i>‚ÜóÔ∏è</i>
              <span>Partager</span>
            </button>
          </div>
        </div>

        <div class="posts-list">
          <div class="post">
            <div class="post-header">
              <div class="post-author">
                <img src="https://i.pravatar.cc/40?u=agriculteur2" alt="Marc">
                <div class="author-info">
                  <span class="author-name">Marc</span>
                  <span class="author-role">Agriculteur c√©r√©alier</span>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-time">Il y a 1 heure</span>
                <span>#1</span>
              </div>
            </div>
            
            <div class="post-content">
              <p>Bonjour Alice,</p>
              
              <p>J'utilise l'aspersion sur mes 80 hectares de ma√Øs en Normandie. Le principal avantage est la couverture uniforme, surtout pour les jeunes plants. Par contre, √ßa consomme plus d'eau par √©vaporation.</p>
              
              <p>J'ai install√© des sondes d'humidit√© dans le sol qui m'aident √† d√©clencher l'irrigation au bon moment. Je cible g√©n√©ralement 30-40 mm par semaine en p√©riode critique.</p>
              
              <p>Le goutte-√†-goutte est excellent pour l'efficacit√©, mais l'investissement initial est plus √©lev√©.</p>
            </div>
            
            <div class="post-actions">
              <button class="post-action">
                <i>üëç</i>
                <span>12</span>
              </button>
              <button class="post-action">
                <i>üí¨</i>
                <span>R√©pondre</span>
              </button>
              <button class="post-action">
                <i>üîñ</i>
                <span>Signaler</span>
              </button>
            </div>
          </div>

          <div class="post">
            <div class="post-header">
              <div class="post-author">
                <img src="https://i.pravatar.cc/40?u=expert1" alt="Dr. Sophie">
                <div class="author-info">
                  <span class="author-name">Dr. Sophie Martin</span>
                  <span class="author-role">Ing√©nieure agronome</span>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-time">Il y a 45 minutes</span>
                <span>#2</span>
              </div>
            </div>
            
            <div class="post-content">
              <p>Bonjour,</p>
              
              <p>Votre question tombe √† pic ! Voici quelques recommandations bas√©es sur les derni√®res recherches :</p>
              
              <ol>
                <li><strong>Goutte-√†-goutte enterr√©</strong> : Efficacit√© jusqu'√† 95%, r√©duit l'√©vaporation</li>
                <li><strong>Irrigation de pr√©cision</strong> : Utilisez des donn√©es sol et m√©t√©o pour d√©clencher l'irrigation</li>
                <li><strong>PAI (Irrigation √† taux variable)</strong> : Adaptez les apports en fonction de la variabilit√© intra-parcellaire</li>
              </ol>
              
              <p>L'INRA recommende un apport de 500-600 mm sur tout le cycle pour le ma√Øs grain en conditions fran√ßaises.</p>
            </div>
            
            <div class="post-actions">
              <button class="post-action liked">
                <i>üëç</i>
                <span>18</span>
              </button>
              <button class="post-action">
                <i>üí¨</i>
                <span>R√©pondre</span>
              </button>
              <button class="post-action">
                <i>üîñ</i>
                <span>Signaler</span>
              </button>
            </div>
          </div>

          <div class="post">
            <div class="post-header">
              <div class="post-author">
                <img src="https://i.pravatar.cc/40?u=agriculteur3" alt="Pierre">
                <div class="author-info">
                  <span class="author-name">Pierre</span>
                  <span class="author-role">Agriculteur bio</span>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-time">Il y a 30 minutes</span>
                <span>#3</span>
              </div>
            </div>
            
            <div class="post-content">
              <p>Salut Alice,</p>
              
              <p>En bio, j'utilise le goutte-√†-goutte avec du paillage. √áa r√©duit l'√©vaporation et limite les adventices. Le co√ªt initial est √©lev√©, mais √ßa se rentabilise en 3-4 ans avec les √©conomies d'eau.</p>
              
              <p>J'utilise l'application Agri-Intel pour suivre l'√©vapotranspiration et adapter mes apports. Tr√®s pratique !</p>
              
              <p>Attention √† la qualit√© de l'eau si tu utilises le goutte-√†-goutte, risque de colmatage.</p>
            </div>
            
            <div class="post-actions">
              <button class="post-action">
                <i>üëç</i>
                <span>8</span>
              </button>
              <button class="post-action">
                <i>üí¨</i>
                <span>R√©pondre</span>
              </button>
              <button class="post-action">
                <i>üîñ</i>
                <span>Signaler</span>
              </button>
            </div>
          </div>
        </div>

        <div class="reply-form">
          <h4>Ajouter une r√©ponse</h4>
          
          <div class="editor-toolbar">
            <button class="editor-btn" title="Gras"><strong>B</strong></button>
            <button class="editor-btn" title="Italique"><em>I</em></button>
            <button class="editor-btn" title="Liste">‚Ä¢</button>
            <button class="editor-btn" title="Lien">üîó</button>
            <button class="editor-btn" title="Image">üñºÔ∏è</button>
          </div>
          
          <textarea class="form-control" rows="6" placeholder="Votre r√©ponse..."></textarea>
          
          <div class="form-actions">
            <button class="btn btn-outline">Annuler</button>
            <button class="btn btn-primary">Publier la r√©ponse</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Like functionality
      const likeButtons = document.querySelectorAll('.post-action');
      likeButtons.forEach(button => {
        if (button.innerHTML.includes('üëç')) {
          button.addEventListener('click', function() {
            const countElement = this.querySelector('span');
            let count = parseInt(countElement.textContent);
            
            if (this.classList.contains('liked')) {
              count--;
              this.classList.remove('liked');
            } else {
              count++;
              this.classList.add('liked');
            }
            
            countElement.textContent = count;
          });
        }
      });
      
      // Reply to specific post
      const replyButtons = document.querySelectorAll('.post-action');
      replyButtons.forEach(button => {
        if (button.innerHTML.includes('R√©pondre')) {
          button.addEventListener('click', function() {
            const post = this.closest('.post');
            const author = post.querySelector('.author-name').textContent;
            const textarea = document.querySelector('.reply-form textarea');
            
            textarea.value = `@${author} `;
            textarea.focus();
            
            // Scroll to reply form
            document.querySelector('.reply-form').scrollIntoView({ 
              behavior: 'smooth',
              block: 'center'
            });
          });
        }
      });
      
      // Form submission
      const replyForm = document.querySelector('.reply-form');
      const replyButton = replyForm.querySelector('.btn-primary');
      const replyTextarea = replyForm.querySelector('textarea');
      
      replyButton.addEventListener('click', function() {
        if (replyTextarea.value.trim().length < 10) {
          alert('Votre r√©ponse doit contenir au moins 10 caract√®res.');
          return;
        }
        
        // Simulate posting
        this.textContent = 'Publication...';
        this.disabled = true;
        
        setTimeout(() => {
          // Add new post to the list
          const newPost = document.createElement('div');
          newPost.className = 'post';
          newPost.innerHTML = `
            <div class="post-header">
              <div class="post-author">
                <img src="https://i.pravatar.cc/40?u=agriculteur" alt="Vous">
                <div class="author-info">
                  <span class="author-name">Jean Dupont</span>
                  <span class="author-role">Vous</span>
                </div>
              </div>
              <div class="post-meta">
                <span class="post-time">√Ä l'instant</span>
                <span>#4</span>
              </div>
            </div>
            
            <div class="post-content">
              <p>${replyTextarea.value}</p>
            </div>
            
            <div class="post-actions">
              <button class="post-action">
                <i>üëç</i>
                <span>0</span>
              </button>
              <button class="post-action">
                <i>üí¨</i>
                <span>R√©pondre</span>
              </button>
              <button class="post-action">
                <i>üîñ</i>
                <span>Signaler</span>
              </button>
            </div>
          `;
          
          document.querySelector('.posts-list').appendChild(newPost);
          
          // Reset form
          replyTextarea.value = '';
          this.textContent = 'Publier la r√©ponse';
          this.disabled = false;
          
          // Add event listeners to new post
          const newLikeButton = newPost.querySelector('.post-action');
          newLikeButton.addEventListener('click', function() {
            const countElement = this.querySelector('span');
            let count = parseInt(countElement.textContent);
            
            if (this.classList.contains('liked')) {
              count--;
              this.classList.remove('liked');
            } else {
              count++;
              this.classList.add('liked');
            }
            
            countElement.textContent = count;
          });
          
          // Update thread stats
          const replyCount = document.querySelector('.thread-stat:last-child span');
          replyCount.textContent = (parseInt(replyCount.textContent) + 1) + ' r√©ponses';
          
          alert('Votre r√©ponse a √©t√© publi√©e avec succ√®s !');
        }, 1000);
      });
    });
  </script>
</body>
</html>
